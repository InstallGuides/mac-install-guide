## Install Ruby with Homebrew

If you are a casual user and won't be using Ruby frequently, you can use Homebrew to install Ruby.

Most developers should install a software version manager before installing Ruby. It will help you manage multiple versions of Ruby. You will need to install newer Ruby versions as they are released. And you will need a version manager if you maintain older Rails applications. For a software version manager, I recommend [asdf](https://asdf-vm.com/). Asdf can manage versions of many languages, including Ruby and Node. Instructions for asdf are in the section, [Asdf Version Manager](/ruby/4.html).

Here are instructions for installing Ruby with Homebrew, as well as Node and Yarn (needed for Rails).

Complete the section, [Install Homebrew](/ruby/2.html), before you start.

### Mac system Ruby

MacOS comes with a "system Ruby" pre-installed. MacOS Big Sur or Catalina includes Ruby 2.6.3 which is not the newest version. Do not use the system Ruby (see [an article](https://robots.thoughtbot.com/psa-do-not-use-system-ruby) for why). You can see the system Ruby with `which ruby` and `ruby -v`.

![](/assets/images/ruby/macos-system-ruby.png)

Leave the system Ruby in place and install the newest Ruby version using Homebrew.

## Install Ruby

Use Homebrew to install the newest Ruby version.

```bash
$ brew install ruby
```

Youâ€™ll see diagnostic messages and progress updates.

### Configure the .zshrc file

Edit the `.zshrc` file in your text editor. If you havenâ€™t installed a text editor, use the macOS TextEdit application. Hereâ€™s a shortcut to open the file in TextEdit from the Terminal:

```bash
$ open -e .zshrc
```

Set the PATH environment variable.

```bash
### ~/.zshrc~
if [ -d "/usr/local/opt/ruby/bin" ]; then
  export PATH=/usr/local/opt/ruby/bin:$PATH
  export PATH=`gem environment gemdir`/bin:$PATH
fi
```

This sets the Homebrew-installed Ruby to a higher priority than the system Ruby and adds the directory used for Ruby gems.

Save the file.

ðŸš© Close and reopen the Terminal window for the changes to the `.zshrc` file to be recognized.

Verify that the newest version of Ruby is installed with `ruby -v`.

![](/assets/images/ruby/verify-ruby-install.png)

If you see Ruby version 2.6.3, it is the system Ruby. Try closing and re-opening the terminal window.

## Install Node and Yarn

Node and Yarn manage the JavaScript used by a Rails application. Unless you create backend-only (API) Rails applications, there will always be a little (and sometimes too much) JavaScript in your Rails application.

### Install Node

Youâ€™ll need to install Node, the server version of JavaScript, before you develop any Rails applications. Node must be installed on your computer to run JavaScript in the local development environment.

Early versions of Rails only required the Ruby language for development. More recently (after Rails 5.1), Rails uses Node to run the JavaScript build tool, Webpack, to bundle together any JavaScript files used in an application. Itâ€™s difficult to develop fullstack Rails applications without installing Node.

Itâ€™s easy to install Node with Homebrew. Alternatively, you can download and install Node directly from the [nodejs.org](https://nodejs.org/) website. Or you can [install NVM](https://github.com/nvm-sh/nvm), the Node version manager, and use NVM to install Node. Both alternatives require changes to the `.zshrc` file, so itâ€™s easier to install Node with Homebrew.

Use Homebrew to install Node:

```bash
$ brew install node
```

To verify that Node is installed:
```bash

$ node --version
v15.4.0
```

You should see `v15.4.0` or newer.

![](/assets/images/ruby/brew-install-node.png)

### Install Yarn

Yarn is a package manager for JavaScript. Itâ€™s similar to the better-known NPM (Node Package Manager). Itâ€™s used by Rails to manage JavaScript dependencies.

Use Homebrew to install Yarn:

```bash
$ brew install yarn
```

To verify that Yarn is installed:
```bash

$ yarn --version
v1.22.10
```

You should see `v1.22.10` or newer.

![](/assets/images/ruby/brew-install-yarn.png)

The JavaScript build tools are now installed and ready.

Next, you can optimize the Ruby development environment by updating gems. See the [Update gems](/ruby/7.html) section.

